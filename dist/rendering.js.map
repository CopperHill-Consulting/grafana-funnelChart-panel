{"version":3,"sources":["../src/rendering.js"],"names":["link","scope","elem","attrs","ctrl","data","panel","find","events","on","render","noDataPoints","html","addChart","incrementRenderCounter","length","renderingCompleted"],"mappings":";;;;;;;AAAA;;;;AAEe,SAASA,IAAT,CAAcC,KAAd,EAAqBC,IAArB,EAA2BC,KAA3B,EAAkCC,IAAlC,EAAwC;AACrD,MAAIC,IAAJ;AACA,MAAIC,KAAK,GAAGF,IAAI,CAACE,KAAjB;AACAJ,EAAAA,IAAI,GAAGA,IAAI,CAACK,IAAL,CAAU,2BAAV,CAAP;AAEAH,EAAAA,IAAI,CAACI,MAAL,CAAYC,EAAZ,CAAe,QAAf,EAAyB,YAAY;AACjCC,IAAAA,MAAM,CAAC,IAAD,CAAN;AACH,GAFD;;AAIA,WAASC,YAAT,GAAwB;AACtB,QAAIC,IAAI,GAAG,iFAAX;AACAV,IAAAA,IAAI,CAACU,IAAL,CAAUA,IAAV;AACD;;AAED,WAASC,QAAT,GAAoB,CACnB;;AAED,WAASH,MAAT,CAAgBI,sBAAhB,EAAwC;AACtC,QAAI,CAACV,IAAI,CAACC,IAAV,EAAgB;AAAE;AAAS;;AAE3BA,IAAAA,IAAI,GAAGD,IAAI,CAACC,IAAZ;;AAEE,QAAI,KAAKD,IAAI,CAACC,IAAL,CAAUU,MAAnB,EAA2B;AACzBJ,MAAAA,YAAY;AACb,KAFD,MAEO;AACLE,MAAAA,QAAQ;AACT;;AAEH,QAAIC,sBAAJ,EAA4B;AAC1BV,MAAAA,IAAI,CAACY,kBAAL;AACD;AACF;AACF","sourcesContent":["import _ from 'lodash';\r\n\r\nexport default function link(scope, elem, attrs, ctrl) {\r\n  var data;\r\n  var panel = ctrl.panel;\r\n  elem = elem.find('.funnelchart-panel__chart');\r\n\r\n  ctrl.events.on('render', function () {\r\n      render(true);\r\n  });\r\n\r\n  function noDataPoints() {\r\n    var html = '<div class=\"datapoints-warning\"><span class=\"small\">No data points</span></div>';\r\n    elem.html(html);\r\n  }\r\n\r\n  function addChart() {\r\n  }\r\n\r\n  function render(incrementRenderCounter) {\r\n    if (!ctrl.data) { return; }\r\n\r\n    data = ctrl.data;\r\n\r\n      if (0 == ctrl.data.length) {\r\n        noDataPoints();\r\n      } else {\r\n        addChart();\r\n      }\r\n\r\n    if (incrementRenderCounter) {\r\n      ctrl.renderingCompleted();\r\n    }\r\n  }\r\n}\r\n"],"file":"rendering.js"}